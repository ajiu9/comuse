import{_ as B,a as v}from"./chunks/FunctionInfo.vue_vue_type_script_setup_true_lang.CMZKpPO_.js";import{_ as F}from"./chunks/DemoContainer.vue_vue_type_script_setup_true_lang.CsLjO3La.js";import{a as C}from"./chunks/is.BPYLrA5r.js";import{a2 as x,a3 as R,r as m,z as S,D as q,O as P,d as j,i as A,o as b,F as T,j as i,t as g,J as k,g as d,$ as w,y as u,w as V}from"./chunks/vue.DgLkjsIm.js";import"./chunks/metadata.b6F5ABgX.js";function E(h){return x()?(R(h),!0):!1}const N=C?window:void 0;function $(h,o={}){const{immediate:s=!0,fpsLimit:t=void 0,window:a=N}=o,e=m(!1),l=S(()=>t?1e3/q(t):null);let n=0,r=null;function c(p){if(!e.value||!a)return;n||(n=p);const D=p-n;if(l.value&&D<l.value){r=a.requestAnimationFrame(c);return}n=p,h({delta:D,timestamp:p}),r=a.requestAnimationFrame(c)}function f(){!e.value&&a&&(e.value=!0,n=0,r=a.requestAnimationFrame(c))}function y(){e.value=!1,r!=null&&a&&(a.cancelAnimationFrame(r),r=null)}return s&&f(),E(y),{isActive:P(e),pause:y,resume:f}}const I={"font-mono":""},L={"font-mono":""},_=60,O=j({__name:"demo",setup(h){const o=m(0),s=m(0),{pause:t,resume:a}=$(({delta:e})=>{s.value=e,o.value+=1},{fpsLimit:_});return(e,l)=>(b(),A(T,null,[i("div",I," Frames: "+g(o.value),1),i("div",L," Delta: "+g(s.value.toFixed(0))+"ms ",1),i("div",{"font-mono":""}," FPS Limit: "+g(_)),i("button",{onClick:l[0]||(l[0]=(...n)=>k(t)&&k(t)(...n))}," pause "),i("button",{onClick:l[1]||(l[1]=(...n)=>k(a)&&k(a)(...n))}," resume ")],64))}}),H=JSON.parse('{"title":"useRafFn","description":"","frontmatter":{"category":"Animation"},"headers":[],"relativePath":"core/useRafFn/index.md","filePath":"core/useRafFn/index.md","lastUpdated":1737617917000}'),U={name:"core/useRafFn/index.md"},K=Object.assign(U,{setup(h){return(o,s)=>{const t=B,a=F,e=v;return b(),A("div",null,[s[1]||(s[1]=i("h1",{id:"useraffn",tabindex:"-1"},[u("useRafFn "),i("a",{class:"header-anchor",href:"#useraffn","aria-label":'Permalink to "useRafFn"'},"​")],-1)),d(t,{fn:"useRafFn"}),s[2]||(s[2]=i("p",null,[u("Call function on every "),i("code",null,"requestAnimationFrame"),u(". With controls of pausing and resuming.")],-1)),s[3]||(s[3]=i("h2",{id:"demo",tabindex:"-1"},[u("Demo "),i("a",{class:"header-anchor",href:"#demo","aria-label":'Permalink to "Demo"'},"​")],-1)),d(a,null,{default:V(()=>[s[0]||(s[0]=i("p",{class:"demo-source-link"},[i("a",{href:"https://github.com/ajiu9/comuse/blob/main/packages/core/useRafFn/demo.vue",target:"_blank"},"source")],-1)),d(O)]),_:1}),s[4]||(s[4]=w("",5)),d(e,{fn:"useRafFn"})])}}});export{H as __pageData,K as default};
