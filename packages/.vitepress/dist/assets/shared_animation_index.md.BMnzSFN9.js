import{_ as j,a as L}from"./chunks/FunctionInfo.vue_vue_type_script_setup_true_lang.DaO7UKzD.js";import{_ as N}from"./chunks/DemoContainer.vue_vue_type_script_setup_true_lang.D2V_4-Pw.js";import{r as C,i as S,o as w,j as i,Q as D,F as R,g,a3 as q,y as x,w as O}from"./chunks/vue.3cVhufXJ.js";import"./chunks/metadata.DVvKwoEt.js";class X{constructor(s){this.object=s.object,this.property=s.property,this.startValue=s.startValue,this.endValue=s.endValue,this.duration=s.duration,this.delay=s.delay||0,this.timingFunction=s.timingFunction||(t=>t),this.template=s.template||(t=>t)}receiveTime(s){const t=this.endValue-this.startValue,e=this.timingFunction(s/this.duration);this.object[this.property]=this.template(this.startValue+t*e)}}const p=Symbol("tick"),c=Symbol("tick-handler"),k=Symbol("animations"),f=Symbol("start-time"),b=Symbol("pause-start"),d=Symbol("pause-time");class U{constructor(){this.state="initial",this[k]=new Set,this[f]=new Map,this[d]=0,this[b]=0,this[c]=null,this[p]=()=>{}}start(){if(this.state!=="initial")return;this.state="started";const s=Date.now();this[d]=0,this[p]=()=>{const t=Date.now();for(const e of this[k]){let n;(this[f].get(e)??0)<s?n=t-s-this[d]-e.delay:n=t-(this[f].get(e)??0)-this[d]-e.delay,e.duration<n&&(this[k].delete(e),n=e.duration),n>0&&e.receiveTime(n)}this[c]=requestAnimationFrame(this[p])},this[p]()}add(s,t){arguments.length<2&&(t=Date.now()),this[k].add(s),this[f].set(s,t)}pause(){this.state==="started"&&(this.state="paused",this[b]=Date.now(),this[c]!==null&&cancelAnimationFrame(this[c]))}resume(){this.state==="paused"&&(this.state="started",this[d]+=Date.now()-this[b],this[p]())}reset(){this.state="initial",this.pause(),this[d]=0,this[b]=0,this[k]=new Set,this[f]=new Map,this[c]=null}getState(){return this.state}}function $(o,s,t,e){const h=3*o-3*t+1,m=3*t-6*o,r=3*o,B=3*s-3*e+1,I=3*e-6*s,V=3*s;function E(a){return(3*h*a+2*m)*a+r}function A(a){return((h*a+m)*a+r)*a}function M(a){return((B*a+I)*a+V)*a}function F(a){let l=a,y,u;for(let T=0;T<8;T++){if(u=A(l)-a,Math.abs(u)<1e-6)return l;if(y=E(l),Math.abs(y)<1e-6)break;l-=u/y;let _=1,v=0;for(l=a;_>v;){if(u=A(l)-a,Math.abs(u)<1e-6)return l;u>0?_=l:v=l,l=(_+v)/2}return l}}function P(a){return M(F(a))}return P}const Z=$(.25,.1,.25,1),K={__name:"demo",setup(o){const s=C(null),t=C(null),e=new U;e.start();const n=()=>{e.add(new X({object:s.value.style,property:"transform",startValue:0,endValue:500,duration:2e3,timingFunction:Z,template:m=>`translateX(${m}px)`})),t.value&&(t.value.style.transition="transform ease 2s",t.value.style.transform="translateX(500px)")},h=()=>{e.reset(),s.value.style.transition=null,s.value.style.transform=null,t.value.style.transform="translateX(0px)",t.value.style.transition=null,t.value.style.transform="translateX(0px)"};return(m,r)=>(w(),S(R,null,[r[2]||(r[2]=i("p",{class:"font-bold"}," TimeLine Animation ",-1)),i("div",{ref_key:"el",ref:s,class:"h-100px w-100px bg-red","mb-4":""},null,512),r[3]||(r[3]=i("p",{class:"font-bold"}," Browser Css Animation ",-1)),i("div",{ref_key:"el1",ref:t,class:"h-100px w-100px bg-blue"},null,512),i("button",{onClick:n}," add "),i("button",{onClick:h}," reset "),i("button",{onClick:r[0]||(r[0]=()=>D(e).pause())}," pause "),i("button",{onClick:r[1]||(r[1]=()=>D(e).resume())}," resume ")],64))}},G=JSON.parse('{"title":"Animation","description":"","frontmatter":{"category":"Animation"},"headers":[],"relativePath":"shared/animation/index.md","filePath":"shared/animation/index.md","lastUpdated":1741265379000}'),z={name:"shared/animation/index.md"},W=Object.assign(z,{setup(o){return(s,t)=>{const e=j,n=N,h=L;return w(),S("div",null,[t[1]||(t[1]=i("h1",{id:"animation",tabindex:"-1"},[x("Animation "),i("a",{class:"header-anchor",href:"#animation","aria-label":'Permalink to "Animation"'},"​")],-1)),g(e,{fn:"animation"}),t[2]||(t[2]=i("h2",{id:"demo",tabindex:"-1"},[x("Demo "),i("a",{class:"header-anchor",href:"#demo","aria-label":'Permalink to "Demo"'},"​")],-1)),g(n,null,{default:O(()=>[t[0]||(t[0]=i("p",{class:"demo-source-link"},[i("a",{href:"https://github.com/ajiu9/comuse/blob/main/packages/shared/animation/demo.vue",target:"_blank"},"source")],-1)),g(K)]),_:1}),t[3]||(t[3]=q(`<h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> TimeLine</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">comuse-core</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">tl</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> new </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">TimeLine</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">tl</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">start</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span></code></pre></div><h2 id="source" tabindex="-1">Source <a class="header-anchor" href="#source" aria-label="Permalink to &quot;Source&quot;">​</a></h2><p><a href="https://github.com/ajiu9/comuse/blob/main/packages/shared/animation/index.ts" target="_blank" rel="noreferrer">Source</a> • <a href="https://github.com/ajiu9/comuse/blob/main/packages/shared/animation/demo.vue" target="_blank" rel="noreferrer">Demo</a> • <a href="https://github.com/ajiu9/comuse/blob/main/packages/shared/animation/index.md" target="_blank" rel="noreferrer">Docs</a></p><h2 id="changelog" tabindex="-1">Changelog <a class="header-anchor" href="#changelog" aria-label="Permalink to &quot;Changelog&quot;">​</a></h2>`,5)),g(h,{fn:"animation"})])}}});export{G as __pageData,W as default};
