import{_ as B,a as v}from"./chunks/FunctionInfo.vue_vue_type_script_setup_true_lang.BGtZPM1S.js";import{_ as F}from"./chunks/DemoContainer.vue_vue_type_script_setup_true_lang.D2V_4-Pw.js";import{a as C}from"./chunks/is.BPYLrA5r.js";import{K as x,L as R,r as m,M as S,J as q,A as P,d as j,i as A,o as b,F as T,j as i,t as g,Q as k,g as d,a3 as w,y as u,w as V}from"./chunks/vue.3cVhufXJ.js";import"./chunks/metadata.DITi3RCS.js";function E(h){return x()?(R(h),!0):!1}const N=C?window:void 0;function L(h,o={}){const{immediate:s=!0,fpsLimit:t=void 0,window:a=N}=o,e=m(!1),l=S(()=>t?1e3/q(t):null);let n=0,r=null;function c(p){if(!e.value||!a)return;n||(n=p);const D=p-n;if(l.value&&D<l.value){r=a.requestAnimationFrame(c);return}n=p,h({delta:D,timestamp:p}),r=a.requestAnimationFrame(c)}function f(){!e.value&&a&&(e.value=!0,n=0,r=a.requestAnimationFrame(c))}function y(){e.value=!1,r!=null&&a&&(a.cancelAnimationFrame(r),r=null)}return s&&f(),E(y),{isActive:P(e),pause:y,resume:f}}const I={"font-mono":""},$={"font-mono":""},_=60,O=j({__name:"demo",setup(h){const o=m(0),s=m(0),{pause:t,resume:a}=L(({delta:e})=>{s.value=e,o.value+=1},{fpsLimit:_});return(e,l)=>(b(),A(T,null,[i("div",I," Frames: "+g(o.value),1),i("div",$," Delta: "+g(s.value.toFixed(0))+"ms ",1),i("div",{"font-mono":""}," FPS Limit: "+g(_)),i("button",{onClick:l[0]||(l[0]=(...n)=>k(t)&&k(t)(...n))}," pause "),i("button",{onClick:l[1]||(l[1]=(...n)=>k(a)&&k(a)(...n))}," resume ")],64))}}),z=JSON.parse('{"title":"useRafFn","description":"","frontmatter":{"category":"Animation"},"headers":[],"relativePath":"core/useRafFn/index.md","filePath":"core/useRafFn/index.md","lastUpdated":1737617917000}'),U={name:"core/useRafFn/index.md"},G=Object.assign(U,{setup(h){return(o,s)=>{const t=B,a=F,e=v;return b(),A("div",null,[s[1]||(s[1]=i("h1",{id:"useraffn",tabindex:"-1"},[u("useRafFn "),i("a",{class:"header-anchor",href:"#useraffn","aria-label":'Permalink to "useRafFn"'},"​")],-1)),d(t,{fn:"useRafFn"}),s[2]||(s[2]=i("p",null,[u("Call function on every "),i("code",null,"requestAnimationFrame"),u(". With controls of pausing and resuming.")],-1)),s[3]||(s[3]=i("h2",{id:"demo",tabindex:"-1"},[u("Demo "),i("a",{class:"header-anchor",href:"#demo","aria-label":'Permalink to "Demo"'},"​")],-1)),d(a,null,{default:V(()=>[s[0]||(s[0]=i("p",{class:"demo-source-link"},[i("a",{href:"https://github.com/ajiu9/comuse/blob/main/packages/core/useRafFn/demo.vue",target:"_blank"},"source")],-1)),d(O)]),_:1}),s[4]||(s[4]=w(`<h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> useRafFn</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">comuse-core</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> ref</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">vue</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> count</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ref</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> pause</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> resume</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> useRafFn</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  count</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">value</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">++</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">count</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">})</span></span></code></pre></div><h2 id="source" tabindex="-1">Source <a class="header-anchor" href="#source" aria-label="Permalink to &quot;Source&quot;">​</a></h2><p><a href="https://github.com/ajiu9/comuse/blob/main/packages/core/useRafFn/index.ts" target="_blank" rel="noreferrer">Source</a> • <a href="https://github.com/ajiu9/comuse/blob/main/packages/core/useRafFn/demo.vue" target="_blank" rel="noreferrer">Demo</a> • <a href="https://github.com/ajiu9/comuse/blob/main/packages/core/useRafFn/index.md" target="_blank" rel="noreferrer">Docs</a></p><h2 id="changelog" tabindex="-1">Changelog <a class="header-anchor" href="#changelog" aria-label="Permalink to &quot;Changelog&quot;">​</a></h2>`,5)),d(e,{fn:"useRafFn"})])}}});export{z as __pageData,G as default};
