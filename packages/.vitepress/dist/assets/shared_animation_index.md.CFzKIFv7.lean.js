import{_ as F,a as N}from"./chunks/FunctionInfo.vue_vue_type_script_setup_true_lang.6OMUyywT.js";import{_ as L}from"./chunks/DemoContainer.vue_vue_type_script_setup_true_lang.D2V_4-Pw.js";import{r as T,C as R,i as x,o as w,j as r,Q as C,F as q,g as k,a3 as O,y as S,w as U}from"./chunks/vue.3cVhufXJ.js";import"./chunks/metadata.CWa8svsd.js";class X{constructor(e){this.object=e.object,this.property=e.property,this.startValue=e.startValue,this.endValue=e.endValue,this.duration=e.duration,this.delay=e.delay||0,this.timingFunction=e.timingFunction||(t=>t),this.template=e.template||(t=>t)}receiveTime(e){const t=this.endValue-this.startValue,s=this.timingFunction(e/this.duration);this.object[this.property]=this.template(this.startValue+t*s)}}const d=Symbol("tick"),p=Symbol("tick-handler"),m=Symbol("animations"),c=Symbol("start-time"),g=Symbol("pause-start"),u=Symbol("pause-time");class ${constructor(){this.state="initial",this[m]=new Set,this[c]=new Map,this[u]=0,this[g]=0,this[p]=null,this[d]=()=>{}}start(){if(this.state!=="initial")return;this.state="started";const e=Date.now();this[u]=0,this[d]=()=>{const t=Date.now();for(const s of this[m]){let i;(this[c].get(s)??0)<e?i=t-e-this[u]-s.delay:i=t-(this[c].get(s)??0)-this[u]-s.delay,s.duration<i&&(this[m].delete(s),i=s.duration),i>0&&s.receiveTime(i)}this[p]=requestAnimationFrame(this[d])},this[d]()}add(e,t){arguments.length<2&&(t=Date.now()),this[m].add(e),this[c].set(e,t)}pause(){this.state==="started"&&(this.state="paused",this[g]=Date.now(),this[p]!==null&&cancelAnimationFrame(this[p]))}resume(){this.state==="paused"&&(this.state="started",this[u]+=Date.now()-this[g],this[d]())}reset(){this.state="initial",this.pause(),this[u]=0,this[g]=0,this[m]=new Set,this[c]=new Map,this[p]=null}}function Z(l,e,t,s){const o=3*l-3*t+1,y=3*t-6*l,v=3*l,B=3*e-3*s+1,I=3*s-6*e,V=3*e;function E(a){return(3*o*a+2*y)*a+v}function A(a){return((o*a+y)*a+v)*a}function M(a){return((B*a+I)*a+V)*a}function P(a){let n=a,f,h;for(let D=0;D<8;D++){if(h=A(n)-a,Math.abs(h)<1e-6)return n;if(f=E(n),Math.abs(f)<1e-6)break;n-=h/f;let b=1,_=0;for(n=a;b>_;){if(h=A(n)-a,Math.abs(h)<1e-6)return n;h>0?b=n:_=n,n=(b+_)/2}return n}}function j(a){return M(P(a))}return j}const K=Z(.25,.1,.25,1),z={__name:"demo",setup(l){const e=T(null),t=T(null),s=new $;return s.start(),R(()=>{s.add(new X({object:e.value.style,property:"transform",startValue:0,endValue:500,duration:2e3,easing:K,template:i=>`translateX(${i}px)`})),t.value&&(t.value.style.transition="transform ease 2s",t.value.style.transform="translateX(500px)")}),(i,o)=>(w(),x(q,null,[r("div",{ref_key:"el",ref:e,class:"h-100px w-100px bg-red"},null,512),r("div",{ref_key:"el1",ref:t,class:"h-100px w-100px bg-blue"},null,512),r("button",{onClick:o[0]||(o[0]=()=>C(s).pause())}," pause "),r("button",{onClick:o[1]||(o[1]=()=>C(s).resume())}," resume ")],64))}},W=JSON.parse('{"title":"Animation","description":"","frontmatter":{"category":"Animation"},"headers":[],"relativePath":"shared/animation/index.md","filePath":"shared/animation/index.md","lastUpdated":1741265379000}'),H={name:"shared/animation/index.md"},tt=Object.assign(H,{setup(l){return(e,t)=>{const s=F,i=L,o=N;return w(),x("div",null,[t[1]||(t[1]=r("h1",{id:"animation",tabindex:"-1"},[S("Animation "),r("a",{class:"header-anchor",href:"#animation","aria-label":'Permalink to "Animation"'},"​")],-1)),k(s,{fn:"animation"}),t[2]||(t[2]=r("h2",{id:"demo",tabindex:"-1"},[S("Demo "),r("a",{class:"header-anchor",href:"#demo","aria-label":'Permalink to "Demo"'},"​")],-1)),k(i,null,{default:U(()=>[t[0]||(t[0]=r("p",{class:"demo-source-link"},[r("a",{href:"https://github.com/ajiu9/comuse/blob/main/packages/shared/animation/demo.vue",target:"_blank"},"source")],-1)),k(z)]),_:1}),t[3]||(t[3]=O("",5)),k(o,{fn:"animation"})])}}});export{W as __pageData,tt as default};
