import{_ as v,a as F}from"./chunks/FunctionInfo.vue_vue_type_script_setup_true_lang.DwErUC_T.js";import{_}from"./chunks/DemoContainer.vue_vue_type_script_setup_true_lang.D5yYAVMZ.js";import{a as C}from"./chunks/is.BL9DzFAM.js";import{ac as x,ad as R,t as m,D as q,aa as S,a0 as P,d as j,o as A,b as B,e as i,x as g,E as k,F as w,y as d,l as u,k as E,a9 as N}from"./chunks/framework.CGoBFeW7.js";import"./chunks/theme.ZZGziv7u.js";function V(h){return x()?(R(h),!0):!1}const L=C?window:void 0;function $(h,o={}){const{immediate:s=!0,fpsLimit:t=void 0,window:a=L}=o,e=m(!1),l=q(()=>t?1e3/S(t):null);let n=0,r=null;function c(p){if(!e.value||!a)return;n||(n=p);const D=p-n;if(l.value&&D<l.value){r=a.requestAnimationFrame(c);return}n=p,h({delta:D,timestamp:p}),r=a.requestAnimationFrame(c)}function f(){!e.value&&a&&(e.value=!0,n=0,r=a.requestAnimationFrame(c))}function y(){e.value=!1,r!=null&&a&&(a.cancelAnimationFrame(r),r=null)}return s&&f(),V(y),{isActive:P(e),pause:y,resume:f}}const O={"font-mono":""},U={"font-mono":""},b=60,I=j({__name:"demo",setup(h){const o=m(0),s=m(0),{pause:t,resume:a}=$(({delta:e})=>{s.value=e,o.value+=1},{fpsLimit:b});return(e,l)=>(A(),B(w,null,[i("div",O," Frames: "+g(o.value),1),i("div",U," Delta: "+g(s.value.toFixed(0))+"ms ",1),i("div",{"font-mono":""}," FPS Limit: "+g(b)),i("button",{onClick:l[0]||(l[0]=(...n)=>k(t)&&k(t)(...n))}," pause "),i("button",{onClick:l[1]||(l[1]=(...n)=>k(a)&&k(a)(...n))}," resume ")],64))}}),H=JSON.parse('{"title":"useRafFn","description":"","frontmatter":{"category":"Animation"},"headers":[],"relativePath":"core/useRafFn/index.md","filePath":"core/useRafFn/index.md","lastUpdated":1737617917000}'),T={name:"core/useRafFn/index.md"},K=Object.assign(T,{setup(h){return(o,s)=>{const t=v,a=_,e=F;return A(),B("div",null,[s[1]||(s[1]=i("h1",{id:"useraffn",tabindex:"-1"},[d("useRafFn "),i("a",{class:"header-anchor",href:"#useraffn","aria-label":'Permalink to "useRafFn"'},"​")],-1)),u(t,{fn:"useRafFn"}),s[2]||(s[2]=i("p",null,[d("Call function on every "),i("code",null,"requestAnimationFrame"),d(". With controls of pausing and resuming.")],-1)),s[3]||(s[3]=i("h2",{id:"demo",tabindex:"-1"},[d("Demo "),i("a",{class:"header-anchor",href:"#demo","aria-label":'Permalink to "Demo"'},"​")],-1)),u(a,null,{default:E(()=>[s[0]||(s[0]=i("p",{class:"demo-source-link"},[i("a",{href:"https://github.com/ajiu9/comuse/blob/main/packages/core/useRafFn/demo.vue",target:"_blank"},"source")],-1)),u(I)]),_:1}),s[4]||(s[4]=N(`<h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> useRafFn</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">comuse-core</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> ref</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">vue</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> count</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ref</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> pause</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> resume</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> useRafFn</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  count</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">value</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">++</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">count</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">})</span></span></code></pre></div><h2 id="source" tabindex="-1">Source <a class="header-anchor" href="#source" aria-label="Permalink to &quot;Source&quot;">​</a></h2><p><a href="https://github.com/ajiu9/comuse/blob/main/packages/core/useRafFn/index.ts" target="_blank" rel="noreferrer">Source</a> • <a href="https://github.com/ajiu9/comuse/blob/main/packages/core/useRafFn/demo.vue" target="_blank" rel="noreferrer">Demo</a> • <a href="https://github.com/ajiu9/comuse/blob/main/packages/core/useRafFn/index.md" target="_blank" rel="noreferrer">Docs</a></p><h2 id="changelog" tabindex="-1">Changelog <a class="header-anchor" href="#changelog" aria-label="Permalink to &quot;Changelog&quot;">​</a></h2>`,5)),u(e,{fn:"useRafFn"})])}}});export{H as __pageData,K as default};
