import{N as m}from"./index.CNs7rMaE.js";import{I as j,J as p}from"./vue.3cVhufXJ.js";function y(o,r){function t(...e){return new Promise((l,i)=>{Promise.resolve(o(()=>r.apply(this,e),{fn:r,thisArg:this,args:e})).then(l).catch(i)})}return t}function F(o,r={}){let t,e,l=m;const i=n=>{clearTimeout(n),l(),l=m};return n=>{const u=p(o),a=p(r.maxWait);return t&&i(t),u<=0||a!==void 0&&a<=0?(e&&(i(e),e=null),Promise.resolve(n())):new Promise((s,w)=>{l=r.rejectOnCancel?w:s,a&&!e&&(e=setTimeout(()=>{t&&i(t),e=null,s(n())},a)),t=setTimeout(()=>{e&&i(e),e=null,s(n())},u)})}}function R(...o){let r=0,t,e=!0,l=m,i,c,n,u,a;!j(o[0])&&typeof o[0]=="object"?{delay:c,trailing:n=!0,leading:u=!0,rejectOnCancel:a=!1}=o[0]:[c,n=!0,u=!0,a=!1]=o;const s=()=>{t&&(clearTimeout(t),t=void 0,l(),l=m)};return x=>{const f=p(c),T=Date.now()-r,d=()=>i=x();return s(),f<=0?(r=Date.now(),d()):(T>f&&(u||!e)?(r=Date.now(),d()):n&&(i=new Promise((h,P)=>{l=a?P:h,t=setTimeout(()=>{r=Date.now(),e=!0,h(d()),s()},Math.max(0,f-T))})),!u&&!t&&(t=setTimeout(()=>e=!0,f)),e=!1,i)}}export{y as c,F as d,R as t};
