import{N as w}from"./index.CNs7rMaE.js";import{ab as P,aa as T}from"./framework.CGoBFeW7.js";function j(i,t){function e(...r){return new Promise((l,a)=>{Promise.resolve(i(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(l).catch(a)})}return e}function x(...i){let t=0,e,r=!0,l=w,a,s,u,n,f;!P(i[0])&&typeof i[0]=="object"?{delay:s,trailing:u=!0,leading:n=!0,rejectOnCancel:f=!1}=i[0]:[s,u=!0,n=!0,f=!1]=i;const m=()=>{e&&(clearTimeout(e),e=void 0,l(),l=w)};return d=>{const o=T(s),p=Date.now()-t,c=()=>a=d();return m(),o<=0?(t=Date.now(),c()):(p>o&&(n||!r)?(t=Date.now(),c()):u&&(a=new Promise((h,D)=>{l=f?D:h,e=setTimeout(()=>{t=Date.now(),r=!0,h(c()),m()},Math.max(0,o-p))})),!n&&!e&&(e=setTimeout(()=>r=!0,o)),r=!1,a)}}function v(i,t=200,e=!1,r=!0,l=!1){return j(x(t,e,r,l),i)}export{v as u};
